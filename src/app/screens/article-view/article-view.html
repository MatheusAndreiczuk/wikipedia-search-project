<div #scrollContainer (scroll)="onScroll($event)" class="flex flex-col h-full w-full bg-(--bg-100) overflow-y-auto overflow-x-hidden relative">
    <div class="p-4 md:p-6 lg:p-8 max-w-7xl mx-auto w-full">
        <button (click)="goBack()" class="flex items-center gap-2 text-(--text-200) mb-6 cursor-pointer">
            <i-lucide [name]="arrowLeft"></i-lucide>
            Voltar
        </button>

        @if (isLoading()) {
            <div class="flex justify-center flex-col items-center gap-4 h-64">
                <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-(--text-300)"></div>
                <span>Carregando</span>
            </div>
        } @else {
            <article class="prose prose-invert max-w-none w-full wrap-break-word
                [&_h2]:text-2xl [&_h2]:font-semibold [&_h2]:mt-8 [&_h2]:mb-4 [&_h2]:text-(--text-100)
                [&_h3]:text-xl [&_h3]:font-semibold [&_h3]:mt-6 [&_h3]:mb-3 [&_h3]:text-(--text-100)
                [&_p]:mb-4 [&_p]:leading-relaxed
                [&_a]:text-blue-500 [&_a]:no-underline! hover:[&_a]:underline
                [&_th]:border [&_th]:border-(--bg-300) [&_th]:p-2
                [&_td]:border [&_td]:border-(--bg-300) [&_td]:p-2
                
                [&_.prose]:w-full [&_.prose]:max-w-full
                [&_.prose_img]:max-w-full! [&_.prose_img]:h-auto! [&_.prose_img]:block! [&_.prose_img]:mx-auto!
                [&_.thumb_img]:max-w-full! [&_.thumb_img]:h-auto! [&_.thumb_img]:block! [&_.thumb_img]:mx-auto!
                [&_.infobox_img]:max-w-full! [&_.infobox_img]:h-auto! [&_.infobox_img]:block! [&_.infobox_img]:mx-auto!
                
                [&_.infobox,.thumb,.tright,.tleft,.floatright,.floatleft,.vertical-navbox]:float-none! [&_.infobox,.thumb,.tright,.tleft,.floatright,.floatleft,.vertical-navbox]:w-full! [&_.infobox,.thumb,.tright,.tleft,.floatright,.floatleft,.vertical-navbox]:max-w-full! [&_.infobox,.thumb,.tright,.tleft,.floatright,.floatleft,.vertical-navbox]:my-4! [&_.infobox,.thumb,.tright,.tleft,.floatright,.floatleft,.vertical-navbox]:clear-both! [&_.infobox,.thumb,.tright,.tleft,.floatright,.floatleft,.vertical-navbox]:block!
                
                [&_.thumbinner]:w-full! [&_.thumbinner]:max-w-full! [&_.thumbinner]:mx-auto! [&_.thumbinner]:p-0! [&_.thumbinner]:bg-transparent! [&_.thumbinner]:border-none!
                
                [&_table]:block! [&_table]:w-full! [&_table]:max-w-full! [&_table]:overflow-x-auto! [&_table]:h-auto! [&_table]:mb-4
                [&_.wikitable]:block! [&_.wikitable]:w-full! [&_.wikitable]:max-w-full! [&_.wikitable]:overflow-x-auto! [&_.wikitable]:h-auto!
                
                [&_p,li,dd,dt,th,td,h1,h2,h3,h4,h5,h6]:wrap-break-word! [&_p,li,dd,dt,th,td,h1,h2,h3,h4,h5,h6]:hyphens-auto! [&_p,li,dd,dt,th,td,h1,h2,h3,h4,h5,h6]:max-w-full!
                
                [&_.mw-editsection,.magnify]:hidden!
                
                [&_.hatnote]:pl-0! [&_.hatnote]:ml-0!
                
                [&_ul]:mb-4 [&_ul]:list-disc [&_ul]:ml-6! [&_ul]:pl-0!
                [&_ol]:mb-4 [&_ol]:list-decimal [&_ol]:ml-6! [&_ol]:pl-0!">
                <h1 class="text-3xl font-bold mb-6 text-(--text-100) wrap-break-word">{{ articleTitle() }}</h1>
                <div class="overflow-x-auto max-w-full">
                    <div (click)="handleContentClick($event)" [innerHTML]="articleContent()" class="text-(--text-200)"></div>
                </div>
            </article>
        }
    </div>

    @if (showScrollTop()) {
        <button 
            (click)="scrollToTop()"
            class="fixed bottom-3 right-3 md:bottom-6 md:right-6 p-3 bg-gray-700 hover:bg-gray-800 text-white rounded-full cursor-pointer hover:outline-1 hover:outline-gray-800"
            title="Voltar ao topo">
            <i-lucide [name]="arrowUp"></i-lucide>
        </button>
    }
</div>
