<header class="flex items-center justify-between gap-4 p-3
                   sm:p-4 sm:gap-3
                   md:flex-row md:py-5 md:px-6
                   lg:py-6 lg:px-10
                   flex-col">
    <div class="flex items-stretch h-10 border border-(--bg-400) rounded-sm overflow-hidden
                    sm:h-12 w-full">
        <input #searchInputRef type="text" class="flex-1 pl-2 lg:px-4 outline-none font-semibold text-(--text-200)
                       placeholder:text-(--text-400) placeholder:font-normal" [placeholder]="t().home.searchPlaceholder"
            [value]="searchInput()" (input)="searchService.setSearchTerm($event.target.value)"
            (keydown.enter)="onSearch($event, searchInput())" (focus)="onFocus()" (blur)="onBlur()" />
            
        @if(isInputFocused() || !searchService.hasSearched()){
            <button class="flex items-center justify-center w-10 h-full border-none cursor-pointer
                            hover:scale-110 sm:w-11 lg:pr-3" title="Search" (click)="onSearch($event, searchInput())">
                <i-lucide [name]="searchIcon"></i-lucide>
            </button>
        } @else {
            <button class="flex items-center justify-center w-10 h-full border-none cursor-pointer
                            hover:scale-110 sm:w-11 lg:pr-3" title="Clear input" (click)="clearInput()">
                <i-lucide [name]="xIcon"></i-lucide>
            </button>
        }
    </div>

    <button class="flex items-center justify-center gap-2 px-4 cursor-pointer
                       font-semibold text-(--text-200) whitespace-nowrap
                       sm:h-12 sm:text-lg md:justify-start hover:scale-105 border border-(--bg-400) rounded-sm w-full md:w-auto"
            (click)="onSearchNearby()" [title]="t().home.searchNearby">
        <i-lucide [name]="mapPinIcon"></i-lucide>
        <span class="md:hidden lg:inline">{{ t().home.searchNearby }}</span>
    </button>

    @if(searchService.hasFavorited()===true){
    <div class="flex items-center justify-center gap-1 h-10 px-4
                     font-semibold text-(--text-200) whitespace-nowrap
                     sm:h-11 sm:text-lg md:justify-start">
        <img class="h-8 w-8" src="assets/filled-star.png" alt="filled-star--v1">
        <span>{{ t().home.favoritedTerm }}</span>
    </div>
    } @else {
    <button class="flex items-center justify-center gap-2 h-10 px-4 cursor-pointer
                       font-semibold text-(--text-200) whitespace-nowrap
                       sm:h-11 sm:text-lg md:justify-start hover:scale-105"
            [class.hidden]="searchService.hasSearched()===false" 
            (click)="searchService.addFavoritedTerm(searchInput())">
        <i-lucide [name]="starIcon" color="#cdd016"></i-lucide>
        <span>{{ t().home.favoriteTerm }}</span>
    </button>
    }
</header>